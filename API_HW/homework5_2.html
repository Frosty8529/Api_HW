<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HW5.2</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
      table tr td {
        border: 1px solid black;
        background-color: rgb(255, 255, 255);
        padding: 10px;
      }
    </style>
  </head>

  <body class="flex justify-center items-center">
    <table>
      <tr id="rowDisplayCategory" class="bg-gray-300">
        <td class="bg-gray-500">Country</td>
        <td class="bg-gray-500">Latitude</td>
        <td class="bg-gray-500">Longitude</td>
        <td class="bg-gray-500">Population</td>
      </tr>
      <tr id="rowDisplayThailand"></tr>
      <tr id="rowDisplaySouthKorea"></tr>
    </table>
    <script>
      let aUser = [];
      function getUser(callback) {
        axios
          .get(
            "https://raw.githubusercontent.com/bence-toth/covid-data/main/data/countries.json"
          )
          .then(function (response) {
            aUser.push(response.data.countriesAndProvinces[247]);
            let rowDisplay = document.getElementById("rowDisplayThailand");
            let textHtml = "";
            textHtml +=
              "<td>" + response.data.countriesAndProvinces[247].name + "</td>";
            textHtml +=
              "<td>" +
              response.data.countriesAndProvinces[247].latitude +
              "</td>";
            textHtml +=
              "<td>" +
              response.data.countriesAndProvinces[247].longitude +
              "</td>";
            textHtml +=
              "<td>" +
              response.data.countriesAndProvinces[247].population +
              "</td>";
            rowDisplay.innerHTML = textHtml;
            callback();
          });
      }
      function getUser2(callback) {
        axios
          .get(
            "https://raw.githubusercontent.com/bence-toth/covid-data/main/data/countries.json"
          )
          .then(function (response) {
            aUser.push(response.data.countriesAndProvinces[159]);

            let rowDisplay = document.getElementById("rowDisplaySouthKorea");
            let textHtml = "";
            textHtml +=
              "<td>" + response.data.countriesAndProvinces[159].name + "</td>";
            textHtml +=
              "<td>" +
              response.data.countriesAndProvinces[159].latitude +
              "</td>";
            textHtml +=
              "<td>" +
              response.data.countriesAndProvinces[159].longitude +
              "</td>";
            textHtml +=
              "<td>" +
              response.data.countriesAndProvinces[159].population +
              "</td>";
            rowDisplay.innerHTML = textHtml;
            callback();
          });
      }
      getUser(function () {
        getUser2(function () {
          console.log(aUser);
        });
      });
    </script>
  </body>
</html>
